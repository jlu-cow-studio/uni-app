{
  "version": 3,
  "sources": ["../../@escook/request-miniprogram/miniprogram_dist/index.js"],
  "sourcesContent": ["class Request {\r\n  constructor(options = {}) {\r\n    // 请求的根路径\r\n    this.baseUrl = options.baseUrl || ''\r\n    // 请求的 url 地址\r\n    this.url = options.url || ''\r\n    // 请求方式\r\n    this.method = 'GET'\r\n    // 请求的参数对象\r\n    this.data = null\r\n    // header 请求头\r\n    this.header = options.header || {}\r\n    this.beforeRequest = null\r\n    this.afterRequest = null\r\n  }\r\n\r\n  get(url, data = {}) {\r\n    this.method = 'GET'\r\n    this.url = this.baseUrl + url\r\n    this.data = data\r\n    return this._()\r\n  }\r\n\r\n  post(url, data = {}) {\r\n    this.method = 'POST'\r\n    this.url = this.baseUrl + url\r\n    this.data = data\r\n    return this._()\r\n  }\r\n\r\n  put(url, data = {}) {\r\n    this.method = 'PUT'\r\n    this.url = this.baseUrl + url\r\n    this.data = data\r\n    return this._()\r\n  }\r\n\r\n  delete(url, data = {}) {\r\n    this.method = 'DELETE'\r\n    this.url = this.baseUrl + url\r\n    this.data = data\r\n    return this._()\r\n  }\r\n\r\n  _() {\r\n    // 清空 header 对象\r\n    this.header = {}\r\n    // 请求之前做一些事\r\n    this.beforeRequest && typeof this.beforeRequest === 'function' && this.beforeRequest(this)\r\n    // 发起请求\r\n    return new Promise((resolve, reject) => {\r\n      let weixin = wx\r\n      // 适配 uniapp\r\n      if ('undefined' !== typeof uni) {\r\n        weixin = uni\r\n      }\r\n      weixin.request({\r\n        url: this.url,\r\n        method: this.method,\r\n        data: this.data,\r\n        header: this.header,\r\n        success: (res) => {\r\n          resolve(res)\r\n        },\r\n        fail: (err) => {\r\n          reject(err)\r\n        },\r\n        complete: (res) => {\r\n          // 请求完成以后做一些事情\r\n          this.afterRequest && typeof this.afterRequest === 'function' && this.afterRequest(res)\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const $http = new Request()\n"],
  "mappings": ";AAAA,IAAM,UAAN,MAAc;AAAA,EACZ,YAAY,UAAU,CAAC,GAAG;AAExB,SAAK,UAAU,QAAQ,WAAW;AAElC,SAAK,MAAM,QAAQ,OAAO;AAE1B,SAAK,SAAS;AAEd,SAAK,OAAO;AAEZ,SAAK,SAAS,QAAQ,UAAU,CAAC;AACjC,SAAK,gBAAgB;AACrB,SAAK,eAAe;AAAA,EACtB;AAAA,EAEA,IAAI,KAAK,OAAO,CAAC,GAAG;AAClB,SAAK,SAAS;AACd,SAAK,MAAM,KAAK,UAAU;AAC1B,SAAK,OAAO;AACZ,WAAO,KAAK,EAAE;AAAA,EAChB;AAAA,EAEA,KAAK,KAAK,OAAO,CAAC,GAAG;AACnB,SAAK,SAAS;AACd,SAAK,MAAM,KAAK,UAAU;AAC1B,SAAK,OAAO;AACZ,WAAO,KAAK,EAAE;AAAA,EAChB;AAAA,EAEA,IAAI,KAAK,OAAO,CAAC,GAAG;AAClB,SAAK,SAAS;AACd,SAAK,MAAM,KAAK,UAAU;AAC1B,SAAK,OAAO;AACZ,WAAO,KAAK,EAAE;AAAA,EAChB;AAAA,EAEA,OAAO,KAAK,OAAO,CAAC,GAAG;AACrB,SAAK,SAAS;AACd,SAAK,MAAM,KAAK,UAAU;AAC1B,SAAK,OAAO;AACZ,WAAO,KAAK,EAAE;AAAA,EAChB;AAAA,EAEA,IAAI;AAEF,SAAK,SAAS,CAAC;AAEf,SAAK,iBAAiB,OAAO,KAAK,kBAAkB,cAAc,KAAK,cAAc,IAAI;AAEzF,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,UAAI,SAAS;AAEb,UAAI,gBAAgB,OAAO,KAAK;AAC9B,iBAAS;AAAA,MACX;AACA,aAAO,QAAQ;AAAA,QACb,KAAK,KAAK;AAAA,QACV,QAAQ,KAAK;AAAA,QACb,MAAM,KAAK;AAAA,QACX,QAAQ,KAAK;AAAA,QACb,SAAS,CAAC,QAAQ;AAChB,kBAAQ,GAAG;AAAA,QACb;AAAA,QACA,MAAM,CAAC,QAAQ;AACb,iBAAO,GAAG;AAAA,QACZ;AAAA,QACA,UAAU,CAAC,QAAQ;AAEjB,eAAK,gBAAgB,OAAO,KAAK,iBAAiB,cAAc,KAAK,aAAa,GAAG;AAAA,QACvF;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AACF;AAEO,IAAM,QAAQ,IAAI,QAAQ;",
  "names": []
}
